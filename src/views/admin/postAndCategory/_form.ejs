<!-- BEGIN: Post Content -->
<div class="intro-y col-span-12 lg:col-span-8">
    <div class="post intro-y overflow-hidden box">
        <ul class="post__tabs nav nav-tabs flex-col sm:flex-row bg-slate-200 dark:bg-darkmode-800" role="tablist">
            <li class="nav-item">
                <div
                    title="Fill in the article content"
                    data-tw-toggle="tab"
                    data-tw-target="#content"
                    class="nav-link cursor-pointer tooltip w-full sm:w-40 py-4 active"
                    role="tab"
                    aria-selected="true"
                >
                    <i data-lucide="file-text" class="w-4 h-4 mr-2"></i> Content
                </div>
            </li>
            <li class="nav-item">
                <div
                    title="Adjust the meta title"
                    data-tw-toggle="tab"
                    data-tw-target="#meta-seo"
                    class="nav-link cursor-pointer tooltip w-full sm:w-40 py-4"
                    role="tab"
                    aria-selected="false"
                >
                    <i data-lucide="align-left" class="w-4 h-4 mr-2"></i> Meta SEO
                </div>
            </li>
            <li class="nav-item">
                <div
                    title="More information"
                    data-tw-toggle="tab"
                    data-tw-target="#more-information"
                    class="nav-link cursor-pointer tooltip w-full sm:w-40 py-4"
                    role="tab"
                    aria-selected="false"
                >
                    <i data-lucide="code" class="w-4 h-4 mr-2"></i> More
                </div>
            </li>
        </ul>
        <div class="post__content tab-content">
            <div id="content" class="tab-pane p-5 active" role="tabpanel">
                <div class="border border-slate-200/60 dark:border-darkmode-400 rounded-md p-5">
                    <div
                        class="font-medium flex items-center border-b border-slate-200/60 dark:border-darkmode-400 pb-5"
                    >
                        <i data-lucide="chevron-down" class="w-4 h-4 mr-2"></i> Heading
                    </div>

                    <% if(action === 'edit') {  %>
                        <input name="_id" value="<%= data._id %>" hidden />
                    <% } %>

                    <div class="mt-5 input-form">
                        <label for="title" class="form-label">Title</label>
                        <input
                            required
                            id="title"
                            name="title"
                            type="text"
                            class="form-control"
                            placeholder="Write caption"
                            minlength="5"
                            value="<%= data.title %>"
                        />
                    </div>

                    <div class="mt-3 input-form flex flex-col">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" name="description" id="description" rows="5"><%=  data.description %></textarea>
                    </div>
                </div>
                <div class="mt-5 border border-slate-200/60 dark:border-darkmode-400 rounded-md p-5">
                    <div
                        class="font-medium flex items-center border-b border-slate-200/60 dark:border-darkmode-400 pb-5"
                    >
                        <i data-lucide="chevron-down" class="w-4 h-4 mr-2"></i> Text Content
                    </div>
                    <div class="mt-5">
                        <textarea name="content" class="ckeditor"><%= data.content %></textarea
                        >
                    </div>
                </div>
                <div class="border border-slate-200/60 dark:border-darkmode-400 rounded-md p-5 mt-5">
                    <div
                        class="font-medium flex items-center border-b border-slate-200/60 dark:border-darkmode-400 pb-5"
                    >
                        <i data-lucide="chevron-down" class="w-4 h-4 mr-2"></i> Media
                    </div>
                    <div class="mt-5">
                        <div class="input-form dropZone">
                            <label for="thumbnail" class="form-label">Thumbnail</label>
                            <input
                                id="thumbnail"
                                name="thumbnail"
                                type="text"
                                class="form-control"
                                placeholder="Image url"
                                value="<%= data.thumbnail %>"/>
                            <div class="border-2 border-dashed dark:border-darkmode-400 rounded-md pt-4">
                                <div class="flex flex-wrap preview px-4 justify-center">
                                    <% if (data.thumbnail) { %>
                                        <div class="w-32 h-32 relative image-fit cursor-pointer zoom-in">
                                            <img class="rounded-md" src="<%= data.thumbnail %>">
                                            <div class="removeImage w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="x" class="lucide lucide-x w-4 h-4"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
                                            </div>
                                        </div>
                                    <% } %>
                                </div>
                                <div class="text-center dz-message cursor-pointer <%= data.thumbnail ? 'hidden' : '' %>">
                                    <div class="text-lg font-medium">Drop files here or click to upload.</div>
                                    <div class="text-slate-500">
                                        This is just a demo dropzone. Selected files are
                                        <span class="font-medium">not</span> actually uploaded.
                                    </div>
                                </div>

                                <div
                                    class="px-4 mt-3 pb-4 select-library inline-flex items-center cursor-pointer relative"
                                >
                                    <i data-lucide="image" class="w-4 h-4 mr-2"></i>
                                    <span class="text-primary mr-1">Select from library</span>
                                </div>
                            </div>
                        </div>


                    </div>
                    <% if (type === 'post') { %>
                        <div class="mt-3">
                            <div class="input-form dropZone multi">
                                <label for="album" class="form-label">Album</label>
                                <input id="album[]" type="text" hidden class="multi" />
                                <div class="border-2 border-dashed dark:border-darkmode-400 rounded-md pt-4">
                                    <div class="flex preview flex-wrap preview px-4">
                                        <% data.album && data.album.forEach(element => { %>
                                            <div class="mb-5 mr-5 w-24 h-24 relative image-fit cursor-pointer zoom-in">
                                                <img class="rounded-md" src="<%= element %>">
                                                <input hidden="" name="album[]" value="<%= element %>">
                                                <div class="multi removeImage w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="x" class="lucide lucide-x w-4 h-4"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
                                                </div>
                                            </div>
                                        <% }) %>

                                    </div>
                                    <div class="text-center dz-message cursor-pointer <%= data.album && data.album.length > 0 ? 'hidden' : '' %>">
                                        <div class="text-lg font-medium">Drop files here or click to upload.</div>
                                        <div class="text-slate-500">
                                            This is just a demo dropzone. Selected files are
                                            <span class="font-medium">not</span> actually uploaded.
                                        </div>
                                    </div>
    
                                    <div
                                        class="px-4 mt-3 select-library pb-4 inline-flex items-center cursor-pointer relative"
                                    >
                                        <i data-lucide="image" class="w-4 h-4 mr-2"></i>
                                        <span class="text-primary mr-1">Select from library</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    <% } %>
                </div>
            </div>
            <div id="meta-seo" class="tab-pane p-5" role="tabpanel">
                <div class="border border-slate-200/60 dark:border-darkmode-400 rounded-md p-5">
                    <div
                        class="font-medium flex items-center border-b border-slate-200/60 dark:border-darkmode-400 pb-5"
                    >
                        <i data-lucide="chevron-down" class="w-4 h-4 mr-2"></i> SEO
                    </div>
                    <div class="mt-5">
                        <label for="metaTitle" class="form-label">Meta title</label>
                        <input
                            id="metaTitle"
                            name="metaTitle"
                            type="text"
                            class="form-control"
                            value="<%= data.metaTitle %>"
                            placeholder="Meta title"
                        />
                    </div>
                    <div class="mt-5">
                        <div class="mt-3 input-form flex flex-col">
                            <label for="metaDescripiton" class="form-label">Meta Descripiton</label>
                        
                            <textarea class="form-control" name="metaDescription" id="metaDescription"
                                rows="5"><%= data.description %></textarea>
                        </div>
                    </div>
                    <!-- <div class="mt-3">
                            <label for="keywords" class="form-label">Keywords</label>
                            <select
                                data-placeholder="Multiple"
                                class="tom-select w-full"
                                id="keywords"
                                name="keywords"
                                multiple
                                create="true"
                            >
                                <option value="1" selected>Horror</option>
                                <option value="2">Sci-fi</option>
                                <option value="3" selected>Action</option>
                                <option value="4">Drama</option>
                                <option value="5">Comedy</option>
                            </select>
                        </div> -->
                </div>
            </div>

            <div id="more-information" class="tab-pane p-5" role="tabpanel">
                <div class="border border-slate-200/60 dark:border-darkmode-400 rounded-md p-5">
                    <div
                        class="font-medium flex items-center border-b border-slate-200/60 dark:border-darkmode-400 pb-5"
                    >
                        <i data-lucide="chevron-down" class="w-4 h-4 mr-2"></i> Basic
                    </div>
                    <div class="mt-5 input-form">
                        <label for="slug" class="form-label">Slug</label>
                        <input
                            required
                            id="slug"
                            name="slug"
                            type="text"
                            value="<%= data.slug %>"
                            class="form-control"
                            placeholder="URL"
                        />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- END: Post Content -->
<!-- BEGIN: Post Info -->
<div class="col-span-12 lg:col-span-4">
    <div class="intro-y box p-5">
        <% if (type === 'post') { %>
            <div>
                <label for="publishedAt" class="form-label">Published at</label>
                <input
                    type="text"
                    class="datepicker form-control"
                    id="publishedAt"
                    name="publishedAt"
                    data-single-mode="true"
                    value="<%= data.publishedAt %>"
                />
            </div>
            <div class="mt-3">
                <label for="categories" class="form-label">Category</label>
                <select
                    data-placeholder="Select your Parent Category"
                    class="tom-select w-full"
                    id="categories"
                    name="categories[]"
                    multiple >
                        
                        <% categories.forEach(element => { %>
                            <option <%= data.categories && data.categories.includes(element._id) ? 'selected' : '' %> value="<%= element._id %>"><%= element.title %></option>
                        <% }); %>
                </select>
            </div>

            <div class="mt-3">
                <label for="tags" class="form-label">Tags</label>
                <select
                    data-placeholder="Select tags or create a new one"
                    class="tom-select w-full"
                    id="tags"
                    name="tags[]"
                    multiple
                    create="true"
                >
                    <% tags.forEach(element => { %>
                    <option <%= data.tags && data.tags.includes(element._id) ? 'selected' : '' %> value="<%= element.title %>"><%= element.title %></option>
                    <% }); %>
                </select>
            </div>
    

            <div class="mt-3">
                <label for="author" class="form-label">Author</label>
                <select data-placeholder="Select post's author" class="tom-select w-full" id="author" name="author">
                    <% users.forEach(element => { %>
                    <option
                    <%= data.author && data.author.toString() === element._id.toString() ? 'selected' : '' %>
                    <%= !data.author && user._id.toString() === element._id.toString() ? 'selected' : '' %>
                    value="<%= element._id %>">
                        <%= element.displayName %>
                    </option>
                    <% }); %>
                </select>
            </div>
        <% } %>
        <% if (type === 'category') { %>
            <div>
                <label for="parent" class="form-label">Parent</label>
                <select data-placeholder="Select your Parent Category" class="tom-select w-full" id="parent" name="parent">
                    <% categories.forEach(element => { if(data._id && data._id !== null && element._id.toString() === data._id.toString()) return %>
                    <option <%= data.parent && element._id.toString() === data.parent.toString() ? 'selected' : ''  %>
                        value="<%= element._id %>">
                        <%= element.title %>
                    </option>
                    <% }); %>
                </select>
            </div>
        <% } %>
   
 

        <div class="mt-3">
            <label for="position" class="form-label">Order</label>
            <input
                id="order"
                name="order"
                type="number"
                class="form-control"
                value="<%= data.order ?? 0 %>"
            />
        </div>

        <div class="form-check form-switch flex flex-col mt-3 items-start">
            <label for="status" class="form-check-label ml-0 mb-2">Status</label>
            <input id="status" class="form-check-input" <%= data.status && data.status === 'off' ? '' : 'checked' %> name="status" type="checkbox" />
        </div>
    
    </div>
</div>
<!-- END: Post Info -->
